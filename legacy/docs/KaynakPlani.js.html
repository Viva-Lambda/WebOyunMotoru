<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: KaynakPlani.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: KaynakPlani.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// kaynak plani. Oyun kaynaklarini tutar
"use strict";

var gMotor = gMotor || {};

/** KaynakPlani içerisinde bir kaynagi temsil eden obje

  @param {string} kaynakAdi kaynagin bulundugu dosya yolu
*/
var KaynakGirdisi = function(kaynakAdi) {
    this.kaynak = kaynakAdi;
    this.refSayisi = 1;
}

/** Kaynaklari içinde barindiran obje*/
var KaynakPlani = {};

/** Kaynak planinin toplam yuklemesi gereken obje */
var BekleyenYuklemeler = 0;

/** Bir yuklemenin sonunda çagrilacak islem*/
var YuklendiSinyali = null;

/** bekleyen yukleme kalip kalmadigini denetler */
var _butunYuklemelerOlduMuKontrol = function() {
    if ((BekleyenYuklemeler === 0) &amp;&amp; (YuklendiSinyali !== null)) {
        var cagrilacak = YuklendiSinyali;
        cagrilacak();
        YuklendiSinyali = null;
    }
};

var yuklemeBittiSinyaliKoy = function(f) {
    YuklendiSinyali = f;
    _butunYuklemelerOlduMuKontrol();
};

var asyncYuklemeTalebi = function(kaynakAdi) {
    //
    KaynakPlani[kaynakAdi] = new KaynakGirdisi(kaynakAdi);
    BekleyenYuklemeler++;
};

/** kaynagin referansini arttir

Kaynak çok buyuk olasilikla baska bir yerden çagriliyor ve bunun uzerine biz
de ilgili referansini arttriyoruz.
    */
var kaynakRefArti = function(kaynakAdi) {
    KaynakPlani[kaynakAdi].refSayisi += 1;
}

var kaynakYuklendiMi = function(kaynakAdi) {
    return (kaynakAdi in KaynakPlani);
}

var asyncYuklemeTamamlandiSinyali = function(kaynakAdi, yuklenenKaynak) {
    //
    if (!kaynakYuklendiMi(kaynakAdi)) {
        alert("Mevcut kaynak: " + kaynakAdi + " yuklenmemis!");
    }
    KaynakPlani[kaynakAdi].kaynak = yuklenenKaynak;
    // debugger;
    BekleyenYuklemeler--;
    _butunYuklemelerOlduMuKontrol();
};

var kaynakAl = function(kaynakAdi) {
    //
    var k = null;
    if (kaynakAdi in KaynakPlani)
        k = KaynakPlani[kaynakAdi].kaynak;
    return k;
};

/** dosya yolu verilen kaynagi eger referansi sifirlanmissa kaldirir

@param {string} kaynakAdi ilgili kaynagin dosya yolu
    */
var kaynakCikart = function(kaynakAdi) {
    //
    var ref_sayisi = 0;
    if (kaynakAdi in KaynakPlani) {
        KaynakPlani[kaynakAdi].refSayisi -= 1;
        ref_sayisi = KaynakPlani[kaynakAdi].refSayisi;
        if (ref_sayisi === 0) {
            delete KaynakPlani[kaynakAdi];
        }
    }
    return ref_sayisi;
};
gMotor.KaynakPlani = (function() {
    var metotlar = {
        asyncYuklemeTamamlandiSinyali: asyncYuklemeTamamlandiSinyali,
        asyncYuklemeTalebi: asyncYuklemeTalebi,
        yuklemeBittiSinyaliKoy: yuklemeBittiSinyaliKoy,
        kaynakAl: kaynakAl,
        kaynakCikart: kaynakCikart,
        kaynakRefArti: kaynakRefArti,
        kaynakYuklendiMi: kaynakYuklendiMi
    };
    return metotlar;
}());
//
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#_butunYuklemelerOlduMuKontrol">_butunYuklemelerOlduMuKontrol</a></li><li><a href="global.html#BekleyenYuklemeler">BekleyenYuklemeler</a></li><li><a href="global.html#kaynakCikart">kaynakCikart</a></li><li><a href="global.html#KaynakGirdisi">KaynakGirdisi</a></li><li><a href="global.html#KaynakPlani">KaynakPlani</a></li><li><a href="global.html#kaynakRefArti">kaynakRefArti</a></li><li><a href="global.html#SesOrtaminiBaslat">SesOrtaminiBaslat</a></li><li><a href="global.html#YuklendiSinyali">YuklendiSinyali</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sat Jan 16 2021 20:41:53 GMT+0100 (heure normale d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
